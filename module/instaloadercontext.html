<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  
    <title>InstaloaderContext (Low-level functions) &#8212; Instaloader  documentation</title>
  

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=377f2d93" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=fb9458d3" />
    <link rel="stylesheet" type="text/css" href="../_static/instaloaderdoc.css?v=d1e01417" />
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/instaloaderdoc.js?v=d3bfff1a"></script>
    <script src="../_static/instaloaderdoc.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Exceptions" href="exceptions.html" />
    <link rel="prev" title="Resumable Iterations" href="nodeiterator.html" />
   
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="google-site-verification" content="FNUsDdkOJM9obm9QEdrNBVd9AtAzHzA-aaSMCUrS6C8"/>
  
    <link rel="canonical" href="https://instaloader.github.io/module/instaloadercontext.html"/>
  

  </head><body>
  <nav class="navbar navbar-light navbar-expand bg-light border-bottom">
    <a class="navbar-brand" href="../index.html">
      <img src="../_static/logo.png" width="30" height="30" class="d-inline-block align-top" alt="logo">
      <span class="ml-3">Instaloader</span>
    </a>
    <ul class="navbar-nav mr-auto">
      <li class="nav-item ml-0 ml-sm-2">
        <a class="nav-link"
           href="https://github.com/instaloader/instaloader/releases/tag/v4.13"
           title="Released on 10 Aug 2024" data-toggle="tooltip">
          v<b>4.13</b>
        </a>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto d-none d-sm-flex">
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/instaloader/instaloader/issues">
          Issues
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/instaloader/instaloader/releases">
          Releases
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/instaloader/instaloader">
          GitHub
        </a>
      </li>
    </ul>
    <button class="d-inline-block d-md-none btn btn-outline-primary btn-sm" type="button"
            data-toggle="collapse" data-target="#instaloaderdocSidebar" aria-controls="instaloaderdocSidebar"
            aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <div class="instaloaderdoc-sidebar collapse d-md-block col-md-3 col-xl-2 bg-light"
           id="instaloaderdocSidebar">
        <nav role="navigation" aria-label="Table of Contents">
          <form action="../search.html" method="get" role="search" class="border-bottom mr-2 pb-2 mb-2 px-1">
            <label class="sr-only" for="searchQueryInput">Search</label>
            <input type="search" name="q" id="searchQueryInput" class="form-control my-2"
                   placeholder="Search..." aria-label="Search">
          </form>
          <h4>Contents</h4>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install Instaloader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic-usage.html">Download Pictures from Instagram</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli-options.html">Command Line Options</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../as-module.html">Python Module <code class="xref py py-mod docutils literal notranslate"><span class="pre">instaloader</span></code></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="instaloader.html"><code class="docutils literal notranslate"><span class="pre">Instaloader</span></code> (Main Class)</a></li>
<li class="toctree-l2"><a class="reference internal" href="structures.html">Instagram Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodeiterator.html">Resumable Iterations</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext</span></code> (Low-level functions)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#instaloadercontext"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#instaloader.InstaloaderContext"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.anonymous_copy"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.anonymous_copy()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.close"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.close()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.do_sleep"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.do_sleep()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.doc_id_graphql_query"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.doc_id_graphql_query()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.error"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.error()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.error_catcher"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.error_catcher()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.get_and_write_raw"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.get_and_write_raw()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.get_anonymous_session"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.get_anonymous_session()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.get_iphone_json"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.get_iphone_json()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.get_json"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.get_json()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.get_raw"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.get_raw()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.graphql_node_list"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.graphql_node_list()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.graphql_query"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.graphql_query()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.has_stored_errors"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.has_stored_errors</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.head"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.head()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.is_logged_in"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.is_logged_in</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.load_session"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.load_session()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.load_session_from_file"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.load_session_from_file()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.log"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.log()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.login"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.login()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.save_session"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.save_session()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.save_session_to_file"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.save_session_to_file()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.test_login"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.test_login()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.two_factor_login"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.two_factor_login()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.update_cookies"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.update_cookies()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.InstaloaderContext.write_raw"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext.write_raw()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ratecontroller"><code class="docutils literal notranslate"><span class="pre">RateController</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#instaloader.RateController"><code class="docutils literal notranslate"><span class="pre">RateController</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.RateController.count_per_sliding_window"><code class="docutils literal notranslate"><span class="pre">RateController.count_per_sliding_window()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.RateController.handle_429"><code class="docutils literal notranslate"><span class="pre">RateController.handle_429()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.RateController.query_waittime"><code class="docutils literal notranslate"><span class="pre">RateController.query_waittime()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.RateController.sleep"><code class="docutils literal notranslate"><span class="pre">RateController.sleep()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#instaloader.RateController.wait_before_query"><code class="docutils literal notranslate"><span class="pre">RateController.wait_before_query()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../codesnippets.html">Advanced Instaloader Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to Instaloader</a></li>
</ul>

        </nav>
      </div>
      <main class="col-12 col-md-9 col-xl-10 pt-2" role="main">
        

  <section id="instaloadercontext-low-level-functions">
<h1><code class="docutils literal notranslate"><span class="pre">InstaloaderContext</span></code> (Low-level functions)<a class="headerlink" href="#instaloadercontext-low-level-functions" title="Link to this heading">¶</a></h1>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#instaloadercontext-low-level-functions" id="id1"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext</span></code> (Low-level functions)</a></p>
<ul>
<li><p><a class="reference internal" href="#instaloadercontext" id="id2"><code class="docutils literal notranslate"><span class="pre">InstaloaderContext</span></code></a></p></li>
<li><p><a class="reference internal" href="#ratecontroller" id="id3"><code class="docutils literal notranslate"><span class="pre">RateController</span></code></a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="instaloadercontext">
<h2><code class="docutils literal notranslate"><span class="pre">InstaloaderContext</span></code><a class="headerlink" href="#instaloadercontext" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">instaloader.</span></span><span class="sig-name descname"><span class="pre">InstaloaderContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sleep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_agent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_connection_attempts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate_controller</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.12)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#instaloader.InstaloaderContext" title="instaloader.instaloadercontext.InstaloaderContext"><span class="pre">InstaloaderContext</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#instaloader.RateController" title="instaloader.instaloadercontext.RateController"><span class="pre">RateController</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fatal_status_codes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iphone_support</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext" title="Link to this definition">¶</a></dt>
<dd><p>Class providing methods for (error) logging and low-level communication with Instagram.</p>
<p>It is not thought to be instantiated directly, rather <a class="reference internal" href="instaloader.html#instaloader.Instaloader" title="instaloader.Instaloader"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instaloader</span></code></a> instances maintain a context
object.</p>
<p>For logging, it provides <a class="reference internal" href="#instaloader.InstaloaderContext.log" title="instaloader.InstaloaderContext.log"><code class="xref py py-meth docutils literal notranslate"><span class="pre">log()</span></code></a>, <a class="reference internal" href="#instaloader.InstaloaderContext.error" title="instaloader.InstaloaderContext.error"><code class="xref py py-meth docutils literal notranslate"><span class="pre">error()</span></code></a>, <a class="reference internal" href="#instaloader.InstaloaderContext.error_catcher" title="instaloader.InstaloaderContext.error_catcher"><code class="xref py py-meth docutils literal notranslate"><span class="pre">error_catcher()</span></code></a>.</p>
<p>It provides low-level communication routines <a class="reference internal" href="#instaloader.InstaloaderContext.get_json" title="instaloader.InstaloaderContext.get_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_json()</span></code></a>, <a class="reference internal" href="#instaloader.InstaloaderContext.graphql_query" title="instaloader.InstaloaderContext.graphql_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">graphql_query()</span></code></a>, <a class="reference internal" href="#instaloader.InstaloaderContext.graphql_node_list" title="instaloader.InstaloaderContext.graphql_node_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">graphql_node_list()</span></code></a>,
<a class="reference internal" href="#instaloader.InstaloaderContext.get_and_write_raw" title="instaloader.InstaloaderContext.get_and_write_raw"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_and_write_raw()</span></code></a> and implements mechanisms for rate controlling and error handling.</p>
<p>Further, it provides methods for logging in and general session handles, which are used by that routines in
class <a class="reference internal" href="instaloader.html#instaloader.Instaloader" title="instaloader.Instaloader"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instaloader</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.anonymous_copy">
<span class="sig-name descname"><span class="pre">anonymous_copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.anonymous_copy" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.close" title="Link to this definition">¶</a></dt>
<dd><p>Print error log and close session</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.do_sleep">
<span class="sig-name descname"><span class="pre">do_sleep</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.do_sleep" title="Link to this definition">¶</a></dt>
<dd><p>Sleep a short time if self.sleep is set. Called before each request to instagram.com.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.doc_id_graphql_query">
<span class="sig-name descname"><span class="pre">doc_id_graphql_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">referer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#instaloader.InstaloaderContext.doc_id_graphql_query" title="Link to this definition">¶</a></dt>
<dd><p>Do a doc_id-based GraphQL Query using method POST.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 4.13.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>doc_id</strong> – doc_id for the query.</p></li>
<li><p><strong>variables</strong> – Variables for the Query.</p></li>
<li><p><strong>referer</strong> – HTTP Referer, or None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The server’s response dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.error">
<span class="sig-name descname"><span class="pre">error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeat_at_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.error" title="Link to this definition">¶</a></dt>
<dd><p>Log a non-fatal error message to stderr, which is repeated at program termination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – Message to be printed.</p></li>
<li><p><strong>repeat_at_end</strong> – Set to false if the message should be printed, but not repeated at program termination.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.error_catcher">
<span class="sig-name descname"><span class="pre">error_catcher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extra_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.error_catcher" title="Link to this definition">¶</a></dt>
<dd><p>Context manager to catch, print and record InstaloaderExceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>extra_info</strong> – String to prefix error message with.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.get_and_write_raw">
<span class="sig-name descname"><span class="pre">get_and_write_raw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#instaloader.InstaloaderContext.get_and_write_raw" title="Link to this definition">¶</a></dt>
<dd><p>Downloads and writes anonymously-requested raw data into a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#instaloader.QueryReturnedNotFoundException" title="instaloader.QueryReturnedNotFoundException"><strong>QueryReturnedNotFoundException</strong></a> – When the server responds with a 404.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.QueryReturnedForbiddenException" title="instaloader.QueryReturnedForbiddenException"><strong>QueryReturnedForbiddenException</strong></a> – When the server responds with a 403.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.exceptions.ConnectionException" title="instaloader.exceptions.ConnectionException"><strong>ConnectionException</strong></a> – When download repeatedly failed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.get_anonymous_session">
<span class="sig-name descname"><span class="pre">get_anonymous_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Session" title="(in Requests v2.32.3)"><span class="pre">Session</span></a></span></span><a class="headerlink" href="#instaloader.InstaloaderContext.get_anonymous_session" title="Link to this definition">¶</a></dt>
<dd><p>Returns our default anonymous requests.Session object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.get_iphone_json">
<span class="sig-name descname"><span class="pre">get_iphone_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#instaloader.InstaloaderContext.get_iphone_json" title="Link to this definition">¶</a></dt>
<dd><p>JSON request to <code class="docutils literal notranslate"><span class="pre">i.instagram.com</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – URL, relative to <code class="docutils literal notranslate"><span class="pre">i.instagram.com/</span></code></p></li>
<li><p><strong>params</strong> – GET parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decoded response dictionary</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#instaloader.QueryReturnedBadRequestException" title="instaloader.QueryReturnedBadRequestException"><strong>QueryReturnedBadRequestException</strong></a> – When the server responds with a 400.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.QueryReturnedNotFoundException" title="instaloader.QueryReturnedNotFoundException"><strong>QueryReturnedNotFoundException</strong></a> – When the server responds with a 404.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.exceptions.ConnectionException" title="instaloader.exceptions.ConnectionException"><strong>ConnectionException</strong></a> – When query repeatedly failed.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 4.2.1.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.get_json">
<span class="sig-name descname"><span class="pre">get_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'www.instagram.com'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Session" title="(in Requests v2.32.3)"><span class="pre">Session</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_attempt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_post</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#instaloader.InstaloaderContext.get_json" title="Link to this definition">¶</a></dt>
<dd><p>JSON request to Instagram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – URL, relative to the given domain which defaults to www.instagram.com/</p></li>
<li><p><strong>params</strong> – request parameters</p></li>
<li><p><strong>host</strong> – Domain part of the URL from where to download the requested JSON; defaults to www.instagram.com</p></li>
<li><p><strong>session</strong> – Session to use, or None to use self.session</p></li>
<li><p><strong>use_post</strong> – Use POST instead of GET to make the request</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decoded response dictionary</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#instaloader.QueryReturnedBadRequestException" title="instaloader.QueryReturnedBadRequestException"><strong>QueryReturnedBadRequestException</strong></a> – When the server responds with a 400.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.QueryReturnedNotFoundException" title="instaloader.QueryReturnedNotFoundException"><strong>QueryReturnedNotFoundException</strong></a> – When the server responds with a 404.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.exceptions.ConnectionException" title="instaloader.exceptions.ConnectionException"><strong>ConnectionException</strong></a> – When query repeatedly failed.</p></li>
</ul>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.13: </span>Added <cite>use_post</cite> parameter.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.get_raw">
<span class="sig-name descname"><span class="pre">get_raw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">_attempt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Response" title="(in Requests v2.32.3)"><span class="pre">Response</span></a></span></span><a class="headerlink" href="#instaloader.InstaloaderContext.get_raw" title="Link to this definition">¶</a></dt>
<dd><p>Downloads a file anonymously.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#instaloader.QueryReturnedNotFoundException" title="instaloader.QueryReturnedNotFoundException"><strong>QueryReturnedNotFoundException</strong></a> – When the server responds with a 404.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.QueryReturnedForbiddenException" title="instaloader.QueryReturnedForbiddenException"><strong>QueryReturnedForbiddenException</strong></a> – When the server responds with a 403.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.exceptions.ConnectionException" title="instaloader.exceptions.ConnectionException"><strong>ConnectionException</strong></a> – When download failed.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 4.2.1.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.graphql_node_list">
<span class="sig-name descname"><span class="pre">graphql_node_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_hash</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_referer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_extractor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.12)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_rhx_gis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.12)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#instaloader.InstaloaderContext.graphql_node_list" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve a list of GraphQL nodes.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 4.5: </span>Use <a class="reference internal" href="nodeiterator.html#instaloader.NodeIterator" title="instaloader.NodeIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeIterator</span></code></a> instead, which provides more functionality.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.graphql_query">
<span class="sig-name descname"><span class="pre">graphql_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_hash</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">referer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#instaloader.InstaloaderContext.graphql_query" title="Link to this definition">¶</a></dt>
<dd><p>Do a GraphQL Query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query_hash</strong> – Query identifying hash.</p></li>
<li><p><strong>variables</strong> – Variables for the Query.</p></li>
<li><p><strong>referer</strong> – HTTP Referer, or None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The server’s response dictionary.</p>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.13.1: </span>Removed the <cite>rhx_gis</cite> parameter.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.has_stored_errors">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_stored_errors</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></em><a class="headerlink" href="#instaloader.InstaloaderContext.has_stored_errors" title="Link to this definition">¶</a></dt>
<dd><p>Returns whether any error has been reported and stored to be repeated at program termination.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.head">
<span class="sig-name descname"><span class="pre">head</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_redirects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Response" title="(in Requests v2.32.3)"><span class="pre">Response</span></a></span></span><a class="headerlink" href="#instaloader.InstaloaderContext.head" title="Link to this definition">¶</a></dt>
<dd><p>HEAD a URL anonymously.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#instaloader.QueryReturnedNotFoundException" title="instaloader.QueryReturnedNotFoundException"><strong>QueryReturnedNotFoundException</strong></a> – When the server responds with a 404.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.QueryReturnedForbiddenException" title="instaloader.QueryReturnedForbiddenException"><strong>QueryReturnedForbiddenException</strong></a> – When the server responds with a 403.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.exceptions.ConnectionException" title="instaloader.exceptions.ConnectionException"><strong>ConnectionException</strong></a> – When request failed.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 4.7.6.</span></p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.is_logged_in">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_logged_in</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></em><a class="headerlink" href="#instaloader.InstaloaderContext.is_logged_in" title="Link to this definition">¶</a></dt>
<dd><p>True, if this Instaloader instance is logged in.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.load_session">
<span class="sig-name descname"><span class="pre">load_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sessiondata</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.load_session" title="Link to this definition">¶</a></dt>
<dd><p>Not meant to be used directly, use <a class="reference internal" href="instaloader.html#instaloader.Instaloader.load_session" title="instaloader.Instaloader.load_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Instaloader.load_session()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.load_session_from_file">
<span class="sig-name descname"><span class="pre">load_session_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sessionfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.load_session_from_file" title="Link to this definition">¶</a></dt>
<dd><p>Not meant to be used directly, use <a class="reference internal" href="instaloader.html#instaloader.Instaloader.load_session_from_file" title="instaloader.Instaloader.load_session_from_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Instaloader.load_session_from_file()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flush</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.log" title="Link to this definition">¶</a></dt>
<dd><p>Log a message to stdout that can be suppressed with –quiet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.login">
<span class="sig-name descname"><span class="pre">login</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passwd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.login" title="Link to this definition">¶</a></dt>
<dd><p>Not meant to be used directly, use <a class="reference internal" href="instaloader.html#instaloader.Instaloader.login" title="instaloader.Instaloader.login"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Instaloader.login()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#instaloader.BadCredentialsException" title="instaloader.BadCredentialsException"><strong>BadCredentialsException</strong></a> – If the provided password is wrong.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.TwoFactorAuthRequiredException" title="instaloader.TwoFactorAuthRequiredException"><strong>TwoFactorAuthRequiredException</strong></a> – First step of 2FA login done, now call
<a class="reference internal" href="instaloader.html#instaloader.Instaloader.two_factor_login" title="instaloader.Instaloader.two_factor_login"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Instaloader.two_factor_login()</span></code></a>.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.LoginException" title="instaloader.LoginException"><strong>LoginException</strong></a> – An error happened during login (for example, and invalid response).
Or if the provided username does not exist.</p></li>
</ul>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.12: </span>Raises LoginException instead of ConnectionException when an error happens.
Raises LoginException instead of InvalidArgumentException when the username does not exist.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.save_session">
<span class="sig-name descname"><span class="pre">save_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.save_session" title="Link to this definition">¶</a></dt>
<dd><p>Not meant to be used directly, use <a class="reference internal" href="instaloader.html#instaloader.Instaloader.save_session" title="instaloader.Instaloader.save_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Instaloader.save_session()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.save_session_to_file">
<span class="sig-name descname"><span class="pre">save_session_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sessionfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.save_session_to_file" title="Link to this definition">¶</a></dt>
<dd><p>Not meant to be used directly, use <a class="reference internal" href="instaloader.html#instaloader.Instaloader.save_session_to_file" title="instaloader.Instaloader.save_session_to_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Instaloader.save_session_to_file()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.test_login">
<span class="sig-name descname"><span class="pre">test_login</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#instaloader.InstaloaderContext.test_login" title="Link to this definition">¶</a></dt>
<dd><p>Not meant to be used directly, use <a class="reference internal" href="instaloader.html#instaloader.Instaloader.test_login" title="instaloader.Instaloader.test_login"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Instaloader.test_login()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.two_factor_login">
<span class="sig-name descname"><span class="pre">two_factor_login</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">two_factor_code</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.two_factor_login" title="Link to this definition">¶</a></dt>
<dd><p>Second step of login if 2FA is enabled.
Not meant to be used directly, use <a class="reference internal" href="instaloader.html#instaloader.Instaloader.two_factor_login" title="instaloader.Instaloader.two_factor_login"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Instaloader.two_factor_login()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#instaloader.InvalidArgumentException" title="instaloader.InvalidArgumentException"><strong>InvalidArgumentException</strong></a> – No two-factor authentication pending.</p></li>
<li><p><a class="reference internal" href="exceptions.html#instaloader.BadCredentialsException" title="instaloader.BadCredentialsException"><strong>BadCredentialsException</strong></a> – 2FA verification code invalid.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 4.2.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.update_cookies">
<span class="sig-name descname"><span class="pre">update_cookies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cookie</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.InstaloaderContext.update_cookies" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 4.11.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.InstaloaderContext.write_raw">
<span class="sig-name descname"><span class="pre">write_raw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.12)"><span class="pre">bytes</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Response" title="(in Requests v2.32.3)"><span class="pre">Response</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#instaloader.InstaloaderContext.write_raw" title="Link to this definition">¶</a></dt>
<dd><p>Write raw response data into a file.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 4.2.1.</span></p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="ratecontroller">
<h2><code class="docutils literal notranslate"><span class="pre">RateController</span></code><a class="headerlink" href="#ratecontroller" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="instaloader.RateController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">instaloader.</span></span><span class="sig-name descname"><span class="pre">RateController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#instaloader.InstaloaderContext" title="instaloader.instaloadercontext.InstaloaderContext"><span class="pre">InstaloaderContext</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.RateController" title="Link to this definition">¶</a></dt>
<dd><p>Class providing request tracking and rate controlling to stay within rate limits.</p>
<p>It can be overridden to change Instaloader’s behavior regarding rate limits, for example to raise a custom
exception when the rate limit is hit:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">instaloader</span>

<span class="k">class</span> <span class="nc">MyRateController</span><span class="p">(</span><span class="n">instaloader</span><span class="o">.</span><span class="n">RateController</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">sleep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secs</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">MyCustomException</span><span class="p">()</span>

<span class="n">L</span> <span class="o">=</span> <span class="n">instaloader</span><span class="o">.</span><span class="n">Instaloader</span><span class="p">(</span><span class="n">rate_controller</span><span class="o">=</span><span class="k">lambda</span> <span class="n">ctx</span><span class="p">:</span> <span class="n">MyRateController</span><span class="p">(</span><span class="n">ctx</span><span class="p">))</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 4.5.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="instaloader.RateController.count_per_sliding_window">
<span class="sig-name descname"><span class="pre">count_per_sliding_window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></span><a class="headerlink" href="#instaloader.RateController.count_per_sliding_window" title="Link to this definition">¶</a></dt>
<dd><p>Return how many requests of the given type can be done within a sliding window of 11 minutes.</p>
<p>This is called by <a class="reference internal" href="#instaloader.RateController.query_waittime" title="instaloader.RateController.query_waittime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RateController.query_waittime()</span></code></a> and allows to simply customize wait times before queries
at query_type granularity. Consider overriding <a class="reference internal" href="#instaloader.RateController.query_waittime" title="instaloader.RateController.query_waittime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RateController.query_waittime()</span></code></a> directly if you need more
control.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.RateController.handle_429">
<span class="sig-name descname"><span class="pre">handle_429</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#instaloader.RateController.handle_429" title="Link to this definition">¶</a></dt>
<dd><p>This method is called to handle a 429 Too Many Requests response.</p>
<p>It calls <a class="reference internal" href="#instaloader.RateController.query_waittime" title="instaloader.RateController.query_waittime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RateController.query_waittime()</span></code></a> to determine the time needed to wait and then calls
<a class="reference internal" href="#instaloader.RateController.sleep" title="instaloader.RateController.sleep"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RateController.sleep()</span></code></a> to wait until we can repeat the same request.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.RateController.query_waittime">
<span class="sig-name descname"><span class="pre">query_waittime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">untracked_queries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#instaloader.RateController.query_waittime" title="Link to this definition">¶</a></dt>
<dd><p>Calculate time needed to wait before query can be executed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.RateController.sleep">
<span class="sig-name descname"><span class="pre">sleep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#instaloader.RateController.sleep" title="Link to this definition">¶</a></dt>
<dd><p>Wait given number of seconds.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="instaloader.RateController.wait_before_query">
<span class="sig-name descname"><span class="pre">wait_before_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#instaloader.RateController.wait_before_query" title="Link to this definition">¶</a></dt>
<dd><p>This method is called before a query to Instagram.</p>
<p>It calls <a class="reference internal" href="#instaloader.RateController.query_waittime" title="instaloader.RateController.query_waittime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RateController.query_waittime()</span></code></a> to determine the time needed to wait and then calls
<a class="reference internal" href="#instaloader.RateController.sleep" title="instaloader.RateController.sleep"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RateController.sleep()</span></code></a> to wait until the request can be made.</p>
</dd></dl>

</dd></dl>

</section>
</section>



<h2>Next Section</h2>
<p>
  <a class="reference internal" href="exceptions.html">Exceptions</a>
</p>


      </main>
    </div>
  </div>

  </body>
</html>